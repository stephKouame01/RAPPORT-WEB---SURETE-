<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portail SIATARAIL</title>
<style>
    body, html {
        margin: 0; padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        height: 100%; overflow: hidden; background: #111;
    }
    .video-container {
        position: fixed; top: 0; left: 0;
        width: 100%; height: 100%; z-index: -1;
    }
    .video-container iframe {
        width: 100%; height: 100%;
    }
    .overlay {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        text-align: center; color: white;
    }
    .cards-container {
        display: flex; gap: 30px;
        flex-wrap: wrap; justify-content: center;
        width: 90%; max-width: 1200px;
    }
    .report-card {
        background: rgba(255,255,255,0.9);
        width: 280px; padding: 22px;
        border-radius: 10px; text-align: center;
        cursor: pointer; box-shadow: 0 6px 18px rgba(0,0,0,0.2);
        transition: .3s;
        color: #111;
    }
    .report-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 12px 25px rgba(0,0,0,0.3);
    }
    #iframe-container {
        display: none; position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: #fff; z-index: 2;
    }
    #iframe-container iframe {
        width: 100%; height: 100%; border: none;
    }
    #backButton {
        display: none; position: absolute;
        top: 20px; left: 20px;
        padding: 12px 22px; background: #2563eb;
        color: white; border: none; border-radius: 6px;
        cursor: pointer; z-index: 3;
    }
</style>
</head>
<body>

<div class="video-container">
    <iframe src="https://www.youtube.com/embed/BcHTHvcbZh0?autoplay=1&mute=1&controls=0"
        frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>
</div>

<div class="overlay" id="homePage">
    <h1>Bienvenue sur SIATARAIL</h1>
    <p>Choisissez un rapport à afficher</p>

    <div class="cards-container">
        <div class="report-card" onclick="loadReport('niveauAlerte')">
            <h2>Niveau d’Alerte</h2>
            <p>Analyse des alertes du réseau ferroviaire.</p>
        </div>
        <div class="report-card" onclick="loadReport('tableauDeBord')">
            <h2>Tableau de bord Sûreté</h2>
            <p>Suivi global de la sûreté du réseau.</p>
        </div>
        <div class="report-card" onclick="loadReport('videosurveillance')">
            <h2>Vidéosurveillance</h2>
            <p>Rapport CCTV SITARAIL en temps réel.</p>
        </div>
    </div>
</div>

<div id="iframe-container">
    <button id="backButton" onclick="backToHome()">← Retour à l’accueil</button>
    <iframe id="reportFrame"></iframe>
</div>

<script>
 const rapports = {
   niveauAlerte: "https://app.powerbi.com/reportEmbed?reportId=adefadca-8e38-4a01-a128-daf86f4e1d09&autoAuth=true&ctid=088e9b00-ffd0-458e-bfa1-acf4c596d3cb",
   tableauDeBord: "https://app.powerbi.com/reportEmbed?reportId=9c2c69db-1446-4017-b957-a454469f9b86&autoAuth=true&ctid=088e9b00-ffd0-458e-bfa1-acf4c596d3cb",
   videosurveillance: "https://app.powerbi.com/reportEmbed?reportId=ab84c6e7-f63f-44b0-a8da-3bbdb72aa213&autoAuth=true&ctid=088e9b00-ffd0-458e-bfa1-acf4c596d3cb"
 };

 function loadReport(key) {
   document.getElementById("homePage").style.display = "none";
   document.getElementById("iframe-container").style.display = "block";
   document.getElementById("reportFrame").src = rapports[key];
   document.getElementById("backButton").style.display = "block";
 }

 function backToHome() {
   document.getElementById("iframe-container").style.display = "none";
   document.getElementById("reportFrame").src = "";
   document.getElementById("backButton").style.display = "none";
   document.getElementById("homePage").style.display = "flex";
 }
</script>

</body>
</html>
